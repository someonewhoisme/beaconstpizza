// Generated by CoffeeScript 1.7.1
(function() {
  $(function() {
    var Navigation;
    Navigation = {
      amount: 0,
      toggle: 'push',
      toggleCabinet: 'push-cabinet',
      preventScroll: 'preventScroll',
      scroller: 'scaler',
      elements: {
        body: $('body'),
        container: $('#main-content'),
        cabinet: $('.cabinet'),
        button: $('#cabinet-button'),
        navbar: $('.navbar-gg-invert'),
        window: $(window),
        closeBtn: $('.close-btn'),
        logo: $('.branding-img-container')
      },
      setTransition: function(val1) {
        return {
          '-webkit-transform': 'translate3d(' + val1 + 'px, 0, 0)',
          '-moz-transform': 'translate3d(' + val1 + 'px, 0, 0)',
          'transform': 'translate3d(' + val1 + 'px, 0, 0)'
        };
      },
      getDeviceWidth: function() {
        if (Navigation.elements.window.width() > 767) {
          return 500;
        } else {
          return parseInt(Navigation.elements.window.width() - 100);
        }
      },
      isNavOpen: function() {
        return Navigation.elements.container.hasClass(Navigation.toggle);
      },
      updateBtn: function() {
        $('#cabinet-button .bar:nth-child(2)').toggle();
        $('#cabinet-button .bar:last-child').toggleClass('rotateDown');
        return $('#cabinet-button .bar:first-child').toggleClass('rotateUp');
      },
      updateContent: function() {
        Navigation.elements.container.toggleClass(Navigation.toggle);
        Navigation.elements.body.toggleClass(Navigation.preventScroll);
        Navigation.elements.cabinet.toggleClass(Navigation.toggleCabinet);
        return Navigation.elements.logo.fadeToggle();
      },
      init: function() {
        if ($(window).height() < 560) {
          $('.cabinet .social-media').hide();
        }
        this.elements.button.click(function(event) {
          event.preventDefault();
          Navigation.updateBtn();
          Navigation.updateContent();
          return false;
        });

        /* this is the devil.
        this.elements.container.click((event) ->
            event.preventDefault()
            if Navigation.isNavOpen()
                Navigation.updateContent()
            return false
        )
         */
        return this.elements.closeBtn.click(function(event) {
          event.preventDefault();
          if (Navigation.isNavOpen()) {
            Navigation.updateContent();
          }
          return false;
        });
      }
    };
    return Navigation.init();
  });

}).call(this);
